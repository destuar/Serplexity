{
  "name": "backend",
  "version": "1.0.0",
  "description": "Backend for Serplexity",
  "main": "src/server.ts",
  "scripts": {
    "start": "node dist/server.js",
    "dev": "ts-node-dev --respawn --transpile-only src/server.ts",
    "build": "tsc --skipLibCheck",
    "lint": "eslint \"src/**/*.ts\" --ignore-pattern \"src/__tests__/**\"",
    "lint:fix": "eslint \"src/**/*.ts\" --ignore-pattern \"src/__tests__/**\" --fix",
    "typecheck": "tsc --noEmit",
    "generate": "npx prisma generate",
    "prisma:dev": "ts-node src/scripts/run-with-secrets.ts npx prisma",
    "migrate:dev": "npm run prisma:dev -- migrate dev",
    "studio:dev": "npm run prisma:dev -- studio",
    "test": "npm run test:pre-deploy",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:pre-deploy": "npm run test:agents && npm run test:integration && npm run test:production",
    "test:integration": "SKIP_DB_SETUP=1 jest src/__tests__/integration/ --testTimeout=120000",
    "test:production": "jest src/__tests__/{production-validation,typescript-integration}.test.ts --config=jest.real-providers.config.js --testTimeout=240000 --verbose",
    "test:quick": "npm run test:agents",
    "test:agents": "SKIP_DB_SETUP=1 jest src/__tests__/agents/ --testTimeout=60000",
    "test:full": "npm run test:pre-deploy && npm run test:coverage",
    "ops:health": "ts-node src/scripts/pydantic-health-check.ts",
    "ops:monitor": "ts-node src/scripts/monitor-redis-queues.ts",
    "ops:repair": "ts-node src/scripts/repair-failed-reports.ts",
    "test:ai-overview": "ts-node src/scripts/test-ai-overview.ts",
    "queue-report": "ts-node src/scripts/run-with-secrets.ts 'ts-node --transpile-only src/scripts/queue-today-report.ts'",
    "python:check": "cd src/pydantic_agents && python -m mypy . && python -m ruff check . && python -m bandit -r .",
    "python:lint": "cd src/pydantic_agents && python -m ruff check . --fix",
    "python:format": "cd src/pydantic_agents && python -m ruff format .",
    "lint:all": "npm run lint && npm run python:check",
    "check:power-of-ten": "npm run typecheck && npm run lint:all && npm run test:quick"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@anthropic-ai/sdk": "^0.24.1",
    "@aws-sdk/client-glacier": "^3.835.0",
    "@aws-sdk/client-kms": "^3.846.0",
    "@aws-sdk/client-secrets-manager": "^3.846.0",
    "@google/generative-ai": "^0.17.0",
    "@opentelemetry/api": "^1.9.0",
    "@opentelemetry/auto-instrumentations-node": "^0.57.0",
    "@opentelemetry/exporter-trace-otlp-http": "^0.202.0",
    "@opentelemetry/resources": "^2.0.1",
    "@opentelemetry/sdk-node": "^0.200.0",
    "@prisma/client": "^6.10.0",
    "@types/multer": "^2.0.0",
    "@types/nodemailer": "^6.4.17",
    "axios": "^1.10.0",
    "bcrypt": "^6.0.0",
    "bullmq": "^5.54.3",
    "cheerio": "^1.1.0",
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "express-rate-limit": "^7.5.1",
    "fast-xml-parser": "^5.2.5",
    "googleapis": "^155.0.0",
    "helmet": "^8.1.0",
    "ioredis": "^5.6.1",
    "jsonwebtoken": "^9.0.2",
    "morgan": "^1.10.0",
    "multer": "^2.0.1",
    "multer-s3": "^3.0.1",
    "nodemailer": "^7.0.5",
    "openai": "^5.5.1",
    "p-limit": "^6.2.0",
    "passport": "^0.7.0",
    "passport-google-oauth20": "^2.0.0",
    "querystring": "^0.2.1",
    "stripe": "^18.2.1",
    "zod": "^3.25.67",
    "zod-to-json-schema": "^3.24.6"
  },
  "devDependencies": {
    "@types/bcrypt": "^5.0.2",
    "@types/cheerio": "^0.22.35",
    "@types/cookie-parser": "^1.4.9",
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/jest": "^30.0.0",
    "@types/jsonwebtoken": "^9.0.10",
    "@types/morgan": "^1.9.9",
    "@types/multer-s3": "^3.0.3",
    "@types/node": "^20.12.12",
    "@types/passport": "^1.0.17",
    "@types/passport-google-oauth20": "^2.0.16",
    "@types/supertest": "^6.0.3",
    "@typescript-eslint/eslint-plugin": "^8.38.0",
    "@typescript-eslint/parser": "^8.38.0",
    "debug": "^4.4.1",
    "eslint": "^9.31.0",
    "globals": "^16.3.0",
    "jest": "^30.0.3",
    "prisma": "^6.10.0",
    "supertest": "^7.1.1",
    "ts-jest": "^29.4.0",
    "ts-node-dev": "^2.0.0",
    "typescript": "^5.4.5",
    "typescript-eslint": "^8.38.0"
  }
}
